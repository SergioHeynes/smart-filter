<p>
    CONFIG: 
    {{config | json}}
</p>

<p>
    FORM: 
    {{filterForm.value | json}}
</p>


<p>
    FILTERS:
    {{filterForm.get('filters')?.value | json}}
</p>

<div>

    <div [formGroup]="filterForm">

        <ng-container formArrayName="filters">

            <ng-container *ngFor="let filterControl of filters.controls; let i = index">
                <div class="filter-form-row" [formGroupName]="i">
                
                    <mat-form-field appearance="fill">
                        <input matInput formControlName="displayName" placeholder="filter displayName">
                    </mat-form-field>

                    
                        <mat-select placeholder="Elige una opciÃ³n">
                            <mat-option [value]="option._id" *ngFor="let option of config.filterOptionsMenu">{{option.displayName}}</mat-option>
                        </mat-select>

                        
                    <mat-icon class="delete-btn" (click)="deleteFilter(i)">
                        delete_forever</mat-icon>
                </div>
            </ng-container>
        </ng-container>

    </div>

    <button [type]="'button'" (click)="addFilter()">+ Agregar filtro</button>
</div>

<div>

</div>